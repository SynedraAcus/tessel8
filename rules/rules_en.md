## Components

Tokens are all tetramino-shaped and two-sided. Each token has a basic side and
an improved side (the one with background lines); the difference between them is
that a basic side always contains 4 different gems, and an improved one always has
two identical gems in neighbouring cells. A token is called "basic" or
"improved" depending on which side is up.

## Before game

1. Choose a field.
2. Pick four tokens for each player (two basic and two improved) and place them
before that player. Player's tokens should always be visible to another player.
Put the rest of tokens to a bag or just a pile on the table.
3. Decide who's going to be the first player

## Gameplay

If at the beginning of player's turn they have less than five tokens before
them, they draw one basic token from the pile. After that, they place one of
their tokens on the field; tokens are not allowed to overlap each other or cross
the field edges, but otherwise a player can place their token wherever they
want. If this creates a group of at least adjacent identical gems:

* A group of 3 gems: the active player selects one of the tokens in this group,
removes it from the field, and places it in their victory heap.
* A group of 4 gems: same as above, and active player also selects one more
token from the same group, removes it from the field and places it before them
(either side up). The player may check the bottom side of all tokens before
selecting. After that they may, if they want, place another token on the field
following the same rules.
* A group of 5 or more gems: player removes all tokens in this group from the field
and spreads these tokens between their victory heap and their hand however they
want (either side up), except that they're not allowed to have more than 5
tokens in the hand. After that they may, if they want, place another token on
the field following the same rules.

If, by placing a single token, the player has assembled multiple groups with
the same number of gems, they are considered a single group of next tier (ie
2 groups of 3 gems are considered a group of 4 gems, and 2 groups of 4 gems
are a group of 5 gems). If there are multiple groups of different tiers (for
example, a group of 4 and a group of 3), the biggest one is resolved first.
If, after that, there are still groups of 3+ gems on the table, they are
resolved one after another by the same rules until none remain.

The turn ends after at least one token has been placed on the board, and all
resulting combinations have been resolved.

If none of the player's tokens can be placed on the field, the player skips a
turn. Note that you cannot just decide to skip a turn: if a token can  be placed
(even in a way that doesn't benefit the active player), it must be placed.


## Ending the game

If both players skip their turns in a row, or if there are no tokens left to
draw, the game is over. Each player gets one point for each token in his victory
heap (regardless of which side is up), and one point for each improved token in
his hand. The player with the most points wins.